\documentclass{article}
\usepackage{rubylatex}

\begin{document}
\begin{rbtex}
Tex.print "Here is a loop counting from 1 to 10:"
def doLoop
    10.times do
        3.times do
            2.times do
                Tex.print "Hello!"
            end
        end
    end
end
doLoop
Tex.print ""
\end{rbtex}
Native TeX\\
\begin{rbtex}
Tex.print ""
Tex.print "looping again"
doLoop
Tex.print ""
\end{rbtex}
More native tex\\


\begin{rbtex}
Tex.print "one more loop"
doLoop
\end{rbtex}
\end{document}
